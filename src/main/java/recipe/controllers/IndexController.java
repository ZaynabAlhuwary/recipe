/* *  Created By  Zaynab Osama ,  On 2/23/19 2:43 PM * */package recipe.controllers;import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.data.domain.Page;import org.springframework.data.domain.PageRequest;import org.springframework.data.domain.Pageable;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import recipe.domain.Recipe;import recipe.services.RecipeService;import java.util.Optional;import static recipe.utility.Mapping.HOME_INDEX;import static recipe.utility.ModelName.M_RECIPES;import static recipe.utility.ViewName.HOME_VIEW;@Slf4j@Controllerpublic class IndexController {    private RecipeService recipeService;    @Autowired    public IndexController(RecipeService recipeService) {        this.recipeService = recipeService;    }    @RequestMapping(HOME_INDEX)    public String getRecipes(Model model, @RequestParam("currentPage") Optional<Integer> currentPage) {        log.debug("Inside Get Recipes");        final int pageSize = 2;        int currPage = currentPage.orElse(0);        Pageable pageable = PageRequest.of(currPage, pageSize);        Page<Recipe> recipePage = recipeService.getRecipes(pageable);        model.addAttribute("totalPages", recipePage.getTotalPages() );        model.addAttribute("currentPage", currPage);        model.addAttribute(M_RECIPES, recipePage.getContent());        return HOME_VIEW;    }}